// components/StaffSidebar.jsx
import { FaInbox, FaCheckCircle, FaCalendarAlt, FaPrint, FaBoxOpen, FaUndo, FaUsers, FaSignOutAlt, FaTimes } from "react-icons/fa";

export default function StaffSidebar({ 
  sidebarRef, 
  sidebarOpen, 
  activeTab, 
  setActiveTab, 
  setSidebarOpen,
  handleLogout,
  username,
  badgeCounts // Add this prop for badge counts
}) {
  const menuItems = [
    { 
      id: "inbox", 
      label: "Inbox", 
      icon: <FaInbox />, 
      badge: badgeCounts?.inbox || 0 
    },
    { 
      id: "accepted", 
      label: "Accepted", 
      icon: <FaCheckCircle />,
      badge: badgeCounts?.accepted || 0
    },
    { 
      id: "scheduled", 
      label: "Scheduled", 
      icon: <FaCalendarAlt />,
      badge: badgeCounts?.scheduled || 0
    },
    { 
      id: "printed", 
      label: "Printed", 
      icon: <FaPrint />,
      badge: badgeCounts?.printed || 0
    },
    { 
      id: "released", 
      label: "Released", 
      icon: <FaBoxOpen />,
      badge: badgeCounts?.released || 0
    },
    { 
      id: "returned", 
      label: "Returned", 
      icon: <FaUndo />,
      badge: badgeCounts?.returned || 0
    },
    { 
      id: "accounts", 
      label: "Accounts", 
      icon: <FaUsers />,
      badge: badgeCounts?.accounts || 0
    },
  ];

  return (
    <>
      <aside ref={sidebarRef} className={`staff-sidebar ${sidebarOpen ? 'open' : ''}`}>
        <div className="sidebar-header">
          <h2>Staff Panel</h2>
          <button className="close-icon" onClick={() => setSidebarOpen(false)}>
            <FaTimes />
          </button>
        </div>

        <nav className="sidebar-nav">
          {menuItems.map(item => (
            <button
              key={item.id}
              className={activeTab === item.id ? 'active' : ''}
              onClick={() => {
                setActiveTab(item.id);
                setSidebarOpen(false);
              }}
            >
              {item.icon}
              <span>{item.label}</span>
              {item.badge > 0 && <span className="menu-badge">{item.badge}</span>}
            </button>
          ))}
        </nav>

        <div className="sidebar-footer">
          <div className="user-info" style={{padding: '10px 0', color: '#cbd5e1', fontSize: '14px'}}>
            Logged in as: <strong>{username}</strong>
          </div>
          <button className="log-btn" onClick={handleLogout}>
            <FaSignOutAlt />
            <span>Logout</span>
          </button>
        </div>
      </aside>
    </>
  );
}